{"version":3,"file":"view.js","mappings":";;;;;;;;;AAAA,+E;;;;;;SCAA;SACA;;SAEA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;;SAEA;SACA;;SAEA;SACA;SACA;;;;;UC5BA;UACA;UACA;UACA;UACA,yCAAyC,wCAAwC;UACjF;UACA;UACA,E;;;;;UCPA,wF;;;;;UCAA;UACA;UACA;UACA,uDAAuD,iBAAiB;UACxE;UACA,gDAAgD,aAAa;UAC7D,E;;;;;;;;;;;;;;;;ACN6D;AAEtD,MAAM;EAAEE,KAAK;EAAEC;AAAU,CAAC,GAAGF,+DAAK,CAAC,iCAAiC,EAAE;EAC5EC,KAAK,EAAE;IACNE,SAAS,EAAE,KAAK;IAChBC,qBAAqB,EAAE,KAAK;IAC5BC,qBAAqB,EAAE,KAAK;IAC5BC,WAAW,EAAE;EACd,CAAC;EACDC,OAAO,EAAE;IACRC,kBAAkB,EAAGC,CAAC,IAAK;MAC1BR,KAAK,CAACK,WAAW,GAAG,KAAK;MAEzB,MAAMI,OAAO,GAAGX,oEAAU,CAAC,CAAC;MAE5BW,OAAO,CAACD,CAAC,CAACE,MAAM,CAACC,IAAI,CAAC,GAAGH,CAAC,CAACE,MAAM,CAACE,KAAK;MAEvC,IAAIJ,CAAC,CAACE,MAAM,CAACC,IAAI,KAAK,cAAc,EAAE;QACrCF,OAAO,CAACI,WAAW,GAAGZ,SAAS,CAACa,aAAa,CAACN,CAAC,CAACE,MAAM,CAACE,KAAK,CAAC;MAC9D;MAEA,IAAIJ,CAAC,CAACE,MAAM,CAACC,IAAI,KAAK,YAAY,EAAE;QACnCF,OAAO,CAACM,iBAAiB,GAAGd,SAAS,CAACa,aAAa,CAClDN,CAAC,CAACE,MAAM,CAACE,KACV,CAAC;MACF;IACD,CAAC;IACDI,UAAU,EAAE,MAAOR,CAAC,IAAK;MACxBA,CAAC,CAACS,cAAc,CAAC,CAAC;MAElB,MAAMR,OAAO,GAAGX,oEAAU,CAAC,CAAC;MAE5B,IACCW,OAAO,CAACS,YAAY,CAACC,IAAI,CAAC,CAAC,CAACC,MAAM,IAAI,CAAC,IACvCnB,SAAS,CAACoB,aAAa,CAACZ,OAAO,CAACa,mBAAmB,CAAC,EACnD;QACD,MAAM;UAAEC,QAAQ;UAAEC,WAAW;UAAE,GAAGC;QAAO,CAAC,GAAGhB,OAAO;QAEpDT,KAAK,CAACK,WAAW,GAAG,KAAK;QACzBL,KAAK,CAACG,qBAAqB,GAAG,IAAI;QAElC,MAAMuB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGH,WAAW,EAAE,EAAE;UAC9CI,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YACR,cAAc,EAAE,kBAAkB;YAClC,YAAY,EAAEJ,MAAM,CAACK;UACtB,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YACpB,GAAGR;UACJ,CAAC;QACF,CAAC,CAAC;QAEF,MAAMS,MAAM,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;QAEpC1B,OAAO,CAAC2B,OAAO,GACdF,MAAM,CAACE,OAAO,GAAG,WAAW,GAAGF,MAAM,CAACG,WAAW;QAElD,IAAIH,MAAM,CAACI,MAAM,KAAK,GAAG,EAAE;UAC1B7B,OAAO,CAAC2B,OAAO,GAAGF,MAAM,CAACE,OAAO,GAAG,GAAG,GAAGF,MAAM,CAACG,WAAW;UAC3DrC,KAAK,CAACK,WAAW,GAAG,IAAI;UACxBL,KAAK,CAACG,qBAAqB,GAAG,KAAK;UACnC;QACD;QAEA,MAAMoC,KAAK,GAAG9B,OAAO,CAAC+B,aAAa,GAAG,IAAI;QAE1CC,UAAU,CAAC,MAAM;UAChBzC,KAAK,CAACG,qBAAqB,GAAG,KAAK;UACnCH,KAAK,CAACI,qBAAqB,GAAG,IAAI;UAElCK,OAAO,CAACiC,gBAAgB,GAAG,GAAGR,MAAM,CAACQ,gBAAgB,MAAM;UAC3DjC,OAAO,CAACkC,YAAY,GAAGT,MAAM,CAACU,aAAa;QAC5C,CAAC,EAAEL,KAAK,CAAC;MACV,CAAC,MAAM;QACN9B,OAAO,CAAC2B,OAAO,GACd,gFAAgF;QACjFpC,KAAK,CAACK,WAAW,GAAG,IAAI;QACxBL,KAAK,CAACG,qBAAqB,GAAG,KAAK;MACpC;IACD;EACD,CAAC;EACDF,SAAS,EAAE;IACV4C,aAAa,EAAEA,CAAA,KAAM;MACpB,MAAMpC,OAAO,GAAGX,oEAAU,CAAC,CAAC;MAC5B,OACC,CAACW,OAAO,CAACqC,WAAW,IAAIrC,OAAO,CAACqC,WAAW,KAAK,eAAe;IAEjE,CAAC;IACDC,QAAQ,EAAEA,CAAA,KAAM;MACf,OAAO/C,KAAK,CAACG,qBAAqB,IAAIH,KAAK,CAACI,qBAAqB;IAClE,CAAC;IACD4C,yBAAyB,EAAEA,CAAA,KAAM;MAChC,OAAO,CAAChD,KAAK,CAACG,qBAAqB,IAAIH,KAAK,CAACI,qBAAqB;IACnE,CAAC;IACD6C,WAAW,EAAEA,CAAA,KAAM;MAClB,OAAO,CAACjD,KAAK,CAACK,WAAW;IAC1B,CAAC;IACDS,aAAa,EAAGH,IAAI,IAAK;MACxB,OAAOA,IAAI,CACTuC,SAAS,CAAC,KAAK,CAAC,CAAC;MAAA,CACjBC,OAAO,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAC;MAAA,CAChCA,OAAO,CAAC,gBAAgB,EAAE,EAAE,CAAC,CAAC;MAAA,CAC9BA,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;MAAA,CACrBhC,IAAI,CAAC,CAAC;IACT,CAAC;IACDE,aAAa,EAAG+B,KAAK,IAAK;MACzB,MAAMC,YAAY,GACjB,kDAAkD;MACnD,OAAOA,YAAY,CAACC,IAAI,CAACF,KAAK,CAAC;IAChC;EACD;AACD,CAAC,CAAC,C","sources":["webpack://wr-boilerplate/external module \"@wordpress/interactivity\"","webpack://wr-boilerplate/webpack/bootstrap","webpack://wr-boilerplate/webpack/runtime/define property getters","webpack://wr-boilerplate/webpack/runtime/hasOwnProperty shorthand","webpack://wr-boilerplate/webpack/runtime/make namespace object","webpack://wr-boilerplate/./src/view.js"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { getContext, store } from '@wordpress/interactivity';\n\nexport const { state, callbacks } = store('interaction-boilerplate-creator', {\n\tstate: {\n\t\tdarkTheme: false,\n\t\tisCreatingBoilerplate: false,\n\t\thasCreatedBoilerplate: false,\n\t\tshowMessage: false,\n\t},\n\tactions: {\n\t\tsetContextProperty: (e) => {\n\t\t\tstate.showMessage = false;\n\n\t\t\tconst context = getContext();\n\n\t\t\tcontext[e.target.name] = e.target.value;\n\n\t\t\tif (e.target.name === 'project_name') {\n\t\t\t\tcontext.plugin_name = callbacks.normalizeName(e.target.value);\n\t\t\t}\n\n\t\t\tif (e.target.name === 'block_name') {\n\t\t\t\tcontext.plugin_block_name = callbacks.normalizeName(\n\t\t\t\t\te.target.value\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tsubmitForm: async (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tconst context = getContext();\n\n\t\t\tif (\n\t\t\t\tcontext.project_name.trim().length >= 5 &&\n\t\t\t\tcallbacks.validateEmail(context.plugin_author_email)\n\t\t\t) {\n\t\t\t\tconst { blogName, apiEndpoint, ...params } = context;\n\n\t\t\t\tstate.showMessage = false;\n\t\t\t\tstate.isCreatingBoilerplate = true;\n\n\t\t\t\tconst response = await fetch(`${apiEndpoint}`, {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t'X-WP-Nonce': params.nonce,\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t...params,\n\t\t\t\t\t}),\n\t\t\t\t});\n\n\t\t\t\tconst result = await response.json();\n\n\t\t\t\tcontext.message =\n\t\t\t\t\tresult.message + ' Logged: ' + result.logged_user;\n\n\t\t\t\tif (result.status !== 200) {\n\t\t\t\t\tcontext.message = result.message + ' ' + result.logged_user;\n\t\t\t\t\tstate.showMessage = true;\n\t\t\t\t\tstate.isCreatingBoilerplate = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst delay = context.delayCreation * 1000;\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tstate.isCreatingBoilerplate = false;\n\t\t\t\t\tstate.hasCreatedBoilerplate = true;\n\n\t\t\t\t\tcontext.plugin_file_name = `${result.plugin_file_name}.zip`;\n\t\t\t\t\tcontext.downloadLink = result.download_link;\n\t\t\t\t}, delay);\n\t\t\t} else {\n\t\t\t\tcontext.message =\n\t\t\t\t\t'Insufficient information. Please enter a valid project name and email address.';\n\t\t\t\tstate.showMessage = true;\n\t\t\t\tstate.isCreatingBoilerplate = false;\n\t\t\t}\n\t\t},\n\t},\n\tcallbacks: {\n\t\thideBlockType: () => {\n\t\t\tconst context = getContext();\n\t\t\treturn (\n\t\t\t\t!context.plugin_type || context.plugin_type === 'without_block'\n\t\t\t);\n\t\t},\n\t\thideForm: () => {\n\t\t\treturn state.isCreatingBoilerplate || state.hasCreatedBoilerplate;\n\t\t},\n\t\thideFormSubmittedCreating: () => {\n\t\t\treturn !state.isCreatingBoilerplate || state.hasCreatedBoilerplate;\n\t\t},\n\t\thideMessage: () => {\n\t\t\treturn !state.showMessage;\n\t\t},\n\t\tnormalizeName: (name) => {\n\t\t\treturn name\n\t\t\t\t.normalize('NFD') // Decompose \"รก\" into \"a\" + accent.\n\t\t\t\t.replace(/[\\u0300-\\u036f]/g, '') // Remove the diacritical accents.\n\t\t\t\t.replace(/[^a-zA-Z0-9 ]/g, '') // Remove special characters\n\t\t\t\t.replace(/\\s+/g, ' ') // Remove multiple spaces\n\t\t\t\t.trim();\n\t\t},\n\t\tvalidateEmail: (email) => {\n\t\t\tconst emailPattern =\n\t\t\t\t/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n\t\t\treturn emailPattern.test(email);\n\t\t},\n\t},\n});\n"],"names":["getContext","store","state","callbacks","darkTheme","isCreatingBoilerplate","hasCreatedBoilerplate","showMessage","actions","setContextProperty","e","context","target","name","value","plugin_name","normalizeName","plugin_block_name","submitForm","preventDefault","project_name","trim","length","validateEmail","plugin_author_email","blogName","apiEndpoint","params","response","fetch","method","headers","nonce","body","JSON","stringify","result","json","message","logged_user","status","delay","delayCreation","setTimeout","plugin_file_name","downloadLink","download_link","hideBlockType","plugin_type","hideForm","hideFormSubmittedCreating","hideMessage","normalize","replace","email","emailPattern","test"],"ignoreList":[],"sourceRoot":""}